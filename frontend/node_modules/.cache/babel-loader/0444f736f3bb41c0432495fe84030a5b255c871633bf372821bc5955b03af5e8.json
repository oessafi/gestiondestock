{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Latitude\\\\Desktop\\\\IMS-react-master\\\\frontend\\\\src\\\\pages\\\\InventairePage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport Layout from \"../component/Layout\";\nimport ApiService from \"../service/ApiService\";\nimport PaginationComponent from \"../component/PaginationComponent\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst InventairePage = () => {\n  _s();\n  const [produits, setProduits] = useState([]);\n  const [message, setMessage] = useState(\"\");\n\n  // Pagination\n  const [currentPage, setCurrentPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(0);\n  const itemsPerPage = 10;\n  useEffect(() => {\n    const fetchProduits = async () => {\n      try {\n        const response = await ApiService.getAllProducts(); // ou getInventaire si API séparée\n        if (response.status === 200) {\n          const allProduits = response.products; // ou response.data si backend différent\n          setTotalPages(Math.ceil(allProduits.length / itemsPerPage));\n          const pageItems = allProduits.slice((currentPage - 1) * itemsPerPage, currentPage * itemsPerPage);\n          setProduits(pageItems);\n        }\n      } catch (error) {\n        var _error$response, _error$response$data;\n        showMessage(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || \"Erreur chargement inventaire: \" + error);\n      }\n    };\n    fetchProduits();\n  }, [currentPage]);\n  const showMessage = msg => {\n    setMessage(msg);\n    setTimeout(() => {\n      setMessage(\"\");\n    }, 4000);\n  };\n  const getStockClass = (quantite, seuil) => {\n    if (quantite < seuil) return \"stock-danger\";\n    if (quantite === seuil) return \"stock-warning\";\n    return \"stock-ok\";\n  };\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    children: [message && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"message\",\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 19\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"product-page\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"product-header\",\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Inventaire\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), produits && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"product-list\",\n        children: produits.map(produit => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `product-item ${getStockClass(produit.stockQuantity, produit.seuilMin)}`,\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"product-image\",\n            src: produit.imageUrl,\n            alt: produit.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"product-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"name\",\n              children: produit.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"sku\",\n              children: [\"SKU: \", produit.sku]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"price\",\n              children: [\"Prix: \", produit.price]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"quantity\",\n              children: [\"Quantit\\xE9: \", produit.stockQuantity, \" \", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"seuil\",\n                children: [\"(Min: \", produit.seuilMin, \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 19\n            }, this), produit.stockQuantity < produit.seuilMin && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-danger\",\n              children: \"\\u26A0\\uFE0F Stock bas\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 21\n            }, this), produit.stockQuantity === produit.seuilMin && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-warning\",\n              children: \"\\uD83D\\uDFE0 Stock au seuil\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 21\n            }, this), produit.stockQuantity > produit.seuilMin && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-success\",\n              children: \"\\uD83D\\uDFE2 Stock OK\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 17\n          }, this)]\n        }, produit.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(PaginationComponent, {\n      currentPage: currentPage,\n      totalPages: totalPages,\n      onPageChange: setCurrentPage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 5\n  }, this);\n};\n_s(InventairePage, \"zMAMmIkjjWxgTr1kchETU9vevAU=\");\n_c = InventairePage;\nexport default InventairePage;\nvar _c;\n$RefreshReg$(_c, \"InventairePage\");","map":{"version":3,"names":["React","useState","useEffect","Layout","ApiService","PaginationComponent","jsxDEV","_jsxDEV","InventairePage","_s","produits","setProduits","message","setMessage","currentPage","setCurrentPage","totalPages","setTotalPages","itemsPerPage","fetchProduits","response","getAllProducts","status","allProduits","products","Math","ceil","length","pageItems","slice","error","_error$response","_error$response$data","showMessage","data","msg","setTimeout","getStockClass","quantite","seuil","children","className","fileName","_jsxFileName","lineNumber","columnNumber","map","produit","stockQuantity","seuilMin","src","imageUrl","alt","name","sku","price","id","onPageChange","_c","$RefreshReg$"],"sources":["C:/Users/Latitude/Desktop/IMS-react-master/frontend/src/pages/InventairePage.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport Layout from \"../component/Layout\";\r\nimport ApiService from \"../service/ApiService\";\r\nimport PaginationComponent from \"../component/PaginationComponent\";\r\n\r\nconst InventairePage = () => {\r\n  const [produits, setProduits] = useState([]);\r\n  const [message, setMessage] = useState(\"\");\r\n\r\n  // Pagination\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [totalPages, setTotalPages] = useState(0);\r\n  const itemsPerPage = 10;\r\n\r\n  useEffect(() => {\r\n    const fetchProduits = async () => {\r\n      try {\r\n        const response = await ApiService.getAllProducts(); // ou getInventaire si API séparée\r\n        if (response.status === 200) {\r\n          const allProduits = response.products; // ou response.data si backend différent\r\n          setTotalPages(Math.ceil(allProduits.length / itemsPerPage));\r\n\r\n          const pageItems = allProduits.slice(\r\n            (currentPage - 1) * itemsPerPage,\r\n            currentPage * itemsPerPage\r\n          );\r\n          setProduits(pageItems);\r\n        }\r\n      } catch (error) {\r\n        showMessage(\r\n          error.response?.data?.message ||\r\n            \"Erreur chargement inventaire: \" + error\r\n        );\r\n      }\r\n    };\r\n\r\n    fetchProduits();\r\n  }, [currentPage]);\r\n\r\n  const showMessage = (msg) => {\r\n    setMessage(msg);\r\n    setTimeout(() => {\r\n      setMessage(\"\");\r\n    }, 4000);\r\n  };\r\n\r\n  const getStockClass = (quantite, seuil) => {\r\n    if (quantite < seuil) return \"stock-danger\";\r\n    if (quantite === seuil) return \"stock-warning\";\r\n    return \"stock-ok\";\r\n  };\r\n\r\n  return (\r\n    <Layout>\r\n      {message && <div className=\"message\">{message}</div>}\r\n\r\n      <div className=\"product-page\">\r\n        <div className=\"product-header\">\r\n          <h1>Inventaire</h1>\r\n        </div>\r\n\r\n        {produits && (\r\n          <div className=\"product-list\">\r\n            {produits.map((produit) => (\r\n              <div\r\n                key={produit.id}\r\n                className={`product-item ${getStockClass(\r\n                  produit.stockQuantity,\r\n                  produit.seuilMin\r\n                )}`}\r\n              >\r\n                <img\r\n                  className=\"product-image\"\r\n                  src={produit.imageUrl}\r\n                  alt={produit.name}\r\n                />\r\n\r\n                <div className=\"product-info\">\r\n                  <h3 className=\"name\">{produit.name}</h3>\r\n                  <p className=\"sku\">SKU: {produit.sku}</p>\r\n                  <p className=\"price\">Prix: {produit.price}</p>\r\n                  <p className=\"quantity\">\r\n                    Quantité: {produit.stockQuantity} {\" \"}\r\n                    <span className=\"seuil\">(Min: {produit.seuilMin})</span>\r\n                  </p>\r\n\r\n                  {produit.stockQuantity < produit.seuilMin && (\r\n                    <p className=\"text-danger\">⚠️ Stock bas</p>\r\n                  )}\r\n                  {produit.stockQuantity === produit.seuilMin && (\r\n                    <p className=\"text-warning\">🟠 Stock au seuil</p>\r\n                  )}\r\n                  {produit.stockQuantity > produit.seuilMin && (\r\n                    <p className=\"text-success\">🟢 Stock OK</p>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      <PaginationComponent\r\n        currentPage={currentPage}\r\n        totalPages={totalPages}\r\n        onPageChange={setCurrentPage}\r\n      />\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default InventairePage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}